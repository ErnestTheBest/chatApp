!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return c});var r="https://ernestthebest.herokuapp.com/users/".concat(window.sessionStorage.userId,"/chats"),o="https://ernestthebest.herokuapp.com/users/".concat(window.sessionStorage.userId,"/contacts"),i="https://ernestthebest.herokuapp.com/ping",c="https://ernestthebest.herokuapp.com"},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return c});var r=n(3);function o(e,t){e.className="status",e.classList.add("status-".concat(Object(r.a)(t)))}function i(e){var t=e.querySelectorAll("input"),n=e.querySelectorAll("button");t.forEach(function(e){return e.removeAttribute("disabled")}),n.forEach(function(e){return e.removeAttribute("disabled")})}function c(e){var t=e.querySelectorAll("input"),n=e.querySelectorAll("button");t.forEach(function(e){e.disabled=!0}),n.forEach(function(e){e.disabled=!0})}},function(e,t,n){"use strict";function r(){var e=window.location.pathname;window.sessionStorage.getItem("userId")?(e.includes("/index.html")||e.includes("/register.html"))&&window.location.replace("./chat.html"):e.includes("/index.html")||e.includes("/register.html")||window.location.replace("./index.html")}function o(){window.sessionStorage.removeItem("userId"),window.sessionStorage.removeItem("credentials"),window.sessionStorage.removeItem("chatContextId"),window.sessionStorage.removeItem("chatUpdates"),window.sessionStorage.removeItem("chatContextName"),window.sessionStorage.removeItem("userStatuses"),r()}function i(e,t,n){window.sessionStorage.setItem("userId",e),window.sessionStorage.setItem("credentials",window.btoa("".concat(t,":").concat(n)))}function c(e,t){window.sessionStorage.setItem("chatContextId",e),window.sessionStorage.setItem("chatContextName",t)}function u(e){window.sessionStorage.setItem("userStatuses",e)}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return u})},function(e,t,n){"use strict";function r(e){var t=new Date,n=[],r=!0,o=!1,i=void 0;try{for(var c,u=e[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var s=c.value;if(s.seen_at){var a=t-new Date(s.seen_at);a<18e4?n.push([s.id,"online"]):a<36e4?n.push([s.id,"away"]):n.push([s.id,"offline"])}else n.push([s.id,"offline"])}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}function o(e){var t=JSON.parse(window.sessionStorage.userStatuses),n=!0,r=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var u=i.value;if(e==u[0])return u[1]}}catch(e){r=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o})},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return s});var r=n(0);function o(){return window.fetch("".concat(r.c,"/users"),{headers:{Authorization:"Basic ".concat(window.sessionStorage.credentials)}}).then(function(e){return e.json()})}function i(e,t){return window.fetch("".concat(r.c,"/users"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then(function(e){return e.json()})}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return window.fetch("".concat(r.c,"/users/").concat(window.sessionStorage.userId),{method:"PUT",headers:{Authorization:"Basic ".concat(window.sessionStorage.credentials),"Content-Type":"application/json"},body:JSON.stringify({name:e,password:t})}).then(function(e){return e.ok})}function u(e,t){return window.fetch("".concat(r.c,"/me"),{headers:{Authorization:"Basic ".concat(window.btoa("".concat(e,":").concat(t)))}}).then(function(e){return e.json()})}function s(){return window.fetch("".concat(r.c,"/me"),{headers:{Authorization:"Basic ".concat(window.sessionStorage.credentials)}}).then(function(e){return console.log(e),e.json()})}},function(e,t,n){"use strict";function r(e,t){var n;document.querySelector(".error-message")?n=document.querySelector(".error-message"):(n=document.createElement("div"),document.body.appendChild(n),n.addEventListener("click",function(e){document.body.removeChild(document.querySelector(".error-message"))})),n.textContent=e,n.style.background=t,n.classList.add("error-message")}n.d(t,"a",function(){return r})},,function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1),i=n(4),c=n(5);Object(r.a)(),document.addEventListener("submit",function(e){var t,n,u,s;e.preventDefault(),t=Array.from(document.querySelectorAll("form input")),n=document.getElementById("username"),u=document.getElementById("password"),s=document.getElementById("confirm-password"),function(e){return e.every(function(e){return e.value})}(t)?function(e,t){return e.value===t.value}(u,s)?(function(e){Object(c.a)("Good boy","#82df1b"),e.forEach(function(e){return e.classList.remove("error")})}(t),Object(o.a)(document.querySelector("form")),Object(i.d)(n.value,u.value).then(function(e){e.errors?(Object(c.a)(e.errors[0].title.replace("data.",""),"linear-gradient(#f95062, #df251b)"),Object(o.b)(document.querySelector("form"))):(Object(r.e)(e.data.id,n.value,u.value),Object(r.a)())})):function(e,t){Object(c.a)("Passwords do not match","linear-gradient(#f95062, #df251b)"),e.classList.add("error"),t.classList.add("error")}(u,s):function(e){Object(c.a)("Mandatory values must be entered","linear-gradient(#f95062, #df251b)"),e.forEach(function(e){e.value?e.classList.remove("error"):e.classList.add("error")})}()})}]);